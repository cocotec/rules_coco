port Runnable {
  function begin() : Nil
  function stop() : Nil
  machine M {
    state Stopped {
      begin() = setNextState(Started)
    }

    state Started {
      stop() = setNextState(Stopped)
    }
  }
}

@runtime(.MultiThreaded)
external component RunnableBase {
  val client : Provided<Runnable>
}
