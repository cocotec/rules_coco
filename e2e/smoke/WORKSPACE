# E2E smoke test WORKSPACE for testing rules_coco in WORKSPACE mode

workspace(name = "rules_coco_smoke_test")

load("@bazel_tools//tools/build_defs/repo:local.bzl", "local_repository")

# Use local development version of rules_coco
local_repository(
    name = "rules_coco",
    path = "../..",
)

load("@rules_coco//coco:repositories.bzl", "coco_repositories")

# Register coco toolchain with default stable version
coco_repositories(
    cc = True,
)

# Load GoogleTest for C++ unit tests
load("@bazel_tools//tools/build_defs/repo:http.bzl", "http_archive")

http_archive(
    name = "googletest",
    sha256 = "8906a9361f61553f1baf9a03063744c43eddb47bc60f9cca99e4b31afd54b85e",
    strip_prefix = "googletest-9156d4caac880b513264ecbe0aa4746a3fead3d7",
    urls = ["https://github.com/google/googletest/archive/9156d4caac880b513264ecbe0aa4746a3fead3d7.zip"],
)
